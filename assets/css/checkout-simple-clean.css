/* ============================================
   CHECKOUT MINIMALISTA - LIMPIO Y SIMPLE
   Sin degradados, sin negritas excesivas
   ============================================ */

/* OCULTAR PASOS INACTIVOS COMPLETAMENTE */
.checkout-step {
    display: none !important;
}

.checkout-step.step-active {
    display: block !important;
}

/* QUITAR NEGRITAS EXCESIVAS */
.feyma-checkout-wrapper h1,
.feyma-checkout-wrapper h2,
.feyma-checkout-wrapper h3,
.feyma-checkout-wrapper h4,
.feyma-checkout-wrapper h5,
.feyma-checkout-wrapper h6 {
    font-weight: 500 !important;
}

.feyma-checkout-wrapper strong,
.feyma-checkout-wrapper b {
    font-weight: 500 !important;
}

.feyma-checkout-wrapper label {
    font-weight: 400 !important;
}

.feyma-checkout-wrapper .step-header h2 {
    font-weight: 600 !important;
    font-size: 1.25rem !important;
}

.feyma-checkout-wrapper .order-total strong {
    font-weight: 600 !important;
}

/* QUITAR LÍNEAS Y SEPARADORES EXTRAS */
.checkout-step .step-header::after {
    display: none !important;
}

.checkout-step {
    border: 1px solid #E9ECEF !important;
    border-radius: 12px !important;
}

#order_review::before {
    display: none !important;
}

#order_review tr {
    border-bottom: 1px solid #E9ECEF !important;
}

#order_review tr:last-child {
    border-bottom: none !important;
}

#order_review .cart-subtotal::after,
#order_review .order-total::after {
    display: none !important;
}

.woocommerce-billing-fields h3,
.woocommerce-shipping-fields h3 {
    display: none !important;
}

/* CUPÓN OCULTO */
.woocommerce-form-coupon-toggle,
.checkout_coupon,
.coupon {
    display: none !important;
}

/* OCULTAR CAMPO PAÍS */
#billing_country_field,
.billing-country-field,
[id*="billing_country"] {
    display: none !important;
}

/* ============================================
   CHECKOUT HEADER - OCULTAR DUPLICADO
   ============================================ */
.checkout-header-simple {
    display: none !important;
}

/* PROGRESS INDICATOR */
.checkout-progress {
    background: #fff !important;
    padding: 20px 0 !important;
}

.checkout-progress .progress-step.active .step-circle {
    background: #3d3180 !important;
    border-color: #3d3180 !important;
}

.checkout-progress .progress-step.completed .step-circle {
    background: #f7b32b !important;
    border-color: #f7b32b !important;
}

.checkout-progress .progress-line.completed {
    background: #f7b32b !important;
}

/* ============================================
   STEP HEADERS - MEJORADOS
   ============================================ */
.step-header {
    display: flex !important;
    flex-direction: column !important;
    gap: 4px !important;
    margin-bottom: 24px !important;
    padding-bottom: 16px !important;
    border-bottom: 1px solid #E9ECEF !important;
}

.step-header h2 {
    display: flex !important;
    align-items: center !important;
    gap: 10px !important;
    font-size: 1.25rem !important;
    font-weight: 600 !important;
    color: #3d3180 !important;
    margin: 0 !important;
}

.step-header h2 i {
    color: #F7B32B !important;
    font-size: 1.1rem !important;
}

.step-description {
    font-size: 0.9rem !important;
    color: #6C757D !important;
    margin: 0 !important;
    font-weight: 400 !important;
}

/* CHECKOUT STEP - BASE */
.checkout-step {
    background: #fff !important;
    padding: 24px !important;
}

.checkout-step.step-active {
    border-color: #3d3180 !important;
    box-shadow: 0 4px 12px rgba(61,49,128,.1) !important;
}

.checkout-step.step-inactive {
    background: #f8f9fa !important;
    border-color: #e9ecef !important;
}

/* ============================================
   FORMULARIO - ESTILOS LIMPIOS
   ============================================ */
.woocommerce-billing-fields__field-wrapper,
.woocommerce-shipping-fields__field-wrapper {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 16px !important;
}

.woocommerce-billing-fields__field-wrapper .form-row,
.woocommerce-shipping-fields__field-wrapper .form-row {
    margin: 0 !important;
}

.form-row-first,
.form-row-last {
    flex: 1 !important;
    min-width: 200px !important;
}

.form-row-wide {
    width: 100% !important;
    flex-basis: 100% !important;
}

/* Labels */
.woocommerce form .form-row label {
    font-size: 0.9rem !important;
    font-weight: 500 !important;
    color: #3d3180 !important;
    margin-bottom: 6px !important;
}

.woocommerce form .form-row label .required {
    color: #EF4444 !important;
}

/* Inputs */
.woocommerce form .form-row input.input-text,
.woocommerce form .form-row textarea,
.woocommerce form .form-row select {
    padding: 12px 16px !important;
    border: 1px solid #E9ECEF !important;
    border-radius: 8px !important;
    font-size: 0.95rem !important;
    transition: all 0.2s ease !important;
    background: #fff !important;
}

.woocommerce form .form-row input.input-text:focus,
.woocommerce form .form-row textarea:focus,
.woocommerce form .form-row select:focus {
    border-color: #3d3180 !important;
    box-shadow: 0 0 0 3px rgba(61, 49, 128, 0.1) !important;
    outline: none !important;
}

.woocommerce form .form-row input.input-text::placeholder {
    color: #ADB5BD !important;
}

/* Select2 Styling */
.select2-container--default .select2-selection--single {
    padding: 8px 12px !important;
    border: 1px solid #E9ECEF !important;
    border-radius: 8px !important;
    height: auto !important;
    min-height: 46px !important;
}

.select2-container--default .select2-selection--single:focus {
    border-color: #3d3180 !important;
}

/* ============================================
   EMAIL LOCKED - MEJORADO
   ============================================ */
.email-locked {
    background: #F8F9FA !important;
    border: 1px solid #E9ECEF !important;
    border-radius: 10px !important;
    padding: 16px 20px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
}

.email-locked::before {
    display: none !important;
}

.email-locked i {
    color: #10b981 !important;
    margin-right: 12px !important;
}

.email-locked .btn-change-email {
    color: #3d3180 !important;
    font-size: 0.9rem !important;
    text-decoration: none !important;
}

.email-locked .btn-change-email:hover {
    color: #F7B32B !important;
}

/* ============================================
   MÉTODOS DE ENVÍO - REDISEÑO CON ICONOS
   ============================================ */
.woocommerce-shipping-methods {
    list-style: none !important;
    padding: 0 !important;
    margin: 0 !important;
}

.woocommerce-shipping-methods li {
    position: relative !important;
    margin-bottom: 12px !important;
    background: #fff !important;
    border: 2px solid #E9ECEF !important;
    border-radius: 12px !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    overflow: hidden !important;
}

.woocommerce-shipping-methods li::before,
.woocommerce-shipping-methods li::after {
    display: none !important;
}

.woocommerce-shipping-methods li:hover {
    border-color: #3d3180 !important;
}

.woocommerce-shipping-methods li:last-child {
    margin-bottom: 0 !important;
}

/* Radio oculto */
.woocommerce-shipping-methods li input[type="radio"] {
    position: absolute !important;
    opacity: 0 !important;
    cursor: pointer !important;
    width: 100% !important;
    height: 100% !important;
    top: 0 !important;
    left: 0 !important;
    z-index: 1 !important;
}

/* Label como card completo */
.woocommerce-shipping-methods li label {
    display: flex !important;
    align-items: center !important;
    gap: 16px !important;
    padding: 18px 20px !important;
    margin: 0 !important;
    cursor: pointer !important;
    font-weight: 500 !important;
    font-size: 0.95rem !important;
    color: #333 !important;
}

/* Icono como parte del option */
.woocommerce-shipping-methods li label::before {
    content: '\F5E0' !important; /* bi-truck */
    width: 44px !important;
    height: 44px !important;
    border-radius: 10px !important;
    background: #F8F9FA !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    flex-shrink: 0 !important;
    font-family: 'bootstrap-icons' !important;
    font-size: 1.25rem !important;
    color: #3d3180 !important;
}

/* Cuando está seleccionado */
.woocommerce-shipping-methods li:has(input[type="radio"]:checked) {
    border-color: #3d3180 !important;
    background: rgba(61, 49, 128, 0.02) !important;
}

.woocommerce-shipping-methods li:has(input[type="radio"]:checked) label::before {
    background: #3d3180 !important;
    color: #fff !important;
}

.woocommerce-shipping-methods li:has(input[type="radio"]:checked) label::after {
    content: '\F26A' !important; /* bi-check-circle-fill */
    font-family: 'bootstrap-icons' !important;
    margin-left: auto !important;
    color: #10b981 !important;
    font-size: 1.25rem !important;
}

/* Fallback para navegadores sin :has() */
.woocommerce-shipping-methods li input[type="radio"]:checked + label {
    color: #3d3180 !important;
}

.woocommerce-shipping-methods li input[type="radio"]:checked + label::before {
    background: #3d3180 !important;
    color: #fff !important;
}

.woocommerce-shipping-methods li input[type="radio"]:checked + label::after {
    content: '\F26A' !important;
    font-family: 'bootstrap-icons' !important;
    margin-left: auto !important;
    color: #10b981 !important;
    font-size: 1.25rem !important;
}

/* ============================================
   MÉTODOS DE PAGO - REDISEÑO CON ICONOS
   ============================================ */
.wc_payment_methods {
    list-style: none !important;
    padding: 0 !important;
    margin: 0 !important;
}

.wc_payment_methods li {
    position: relative !important;
    margin-bottom: 12px !important;
    background: #fff !important;
    border: 2px solid #E9ECEF !important;
    border-radius: 12px !important;
    overflow: hidden !important;
    transition: all 0.2s ease !important;
}

.wc_payment_methods li::after {
    display: none !important;
}

.wc_payment_methods li:hover {
    border-color: #3d3180 !important;
}

.wc_payment_methods li:last-child {
    margin-bottom: 0 !important;
}

/* Radio oculto */
.wc_payment_methods li input[type="radio"] {
    position: absolute !important;
    opacity: 0 !important;
    cursor: pointer !important;
}

/* Label como card */
.wc_payment_methods li > label,
.wc_payment_methods .wc_payment_method > label {
    display: flex !important;
    align-items: center !important;
    gap: 16px !important;
    padding: 18px 20px !important;
    margin: 0 !important;
    cursor: pointer !important;
    font-weight: 500 !important;
    font-size: 0.95rem !important;
    color: #333 !important;
}

/* Icono como parte del option */
.wc_payment_methods li > label::before,
.wc_payment_methods .wc_payment_method > label::before {
    content: '\F2A5' !important; /* bi-credit-card */
    width: 44px !important;
    height: 44px !important;
    border-radius: 10px !important;
    background: #F8F9FA !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    flex-shrink: 0 !important;
    font-family: 'bootstrap-icons' !important;
    font-size: 1.25rem !important;
    color: #3d3180 !important;
}

/* Iconos específicos por método de pago */
.wc_payment_methods .payment_method_bacs > label::before {
    content: '\F119' !important; /* bi-bank */
}

.wc_payment_methods .payment_method_cod > label::before {
    content: '\F229' !important; /* bi-cash-stack */
}

.wc_payment_methods .payment_method_mercadopago > label::before,
.wc_payment_methods .payment_method_woo-mercado-pago-basic > label::before {
    content: '\F424' !important; /* bi-wallet2 */
}

.wc_payment_methods .payment_method_paypal > label::before {
    content: '\F626' !important; /* bi-paypal */
}

/* Cuando está seleccionado */
.wc_payment_methods li:has(input[type="radio"]:checked) {
    border-color: #3d3180 !important;
    background: rgba(61, 49, 128, 0.02) !important;
}

.wc_payment_methods li:has(input[type="radio"]:checked) > label::before {
    background: #3d3180 !important;
    color: #fff !important;
}

.wc_payment_methods li:has(input[type="radio"]:checked) > label::after {
    content: '\F26A' !important;
    font-family: 'bootstrap-icons' !important;
    margin-left: auto !important;
    color: #10b981 !important;
    font-size: 1.25rem !important;
}

/* Fallback */
.wc_payment_methods li input[type="radio"]:checked + label {
    color: #3d3180 !important;
}

.wc_payment_methods li input[type="radio"]:checked + label::before {
    background: #3d3180 !important;
    color: #fff !important;
}

/* Payment box - descripción */
.wc_payment_methods li .payment_box {
    padding: 16px 20px 16px 80px !important;
    background: #F8F9FA !important;
    font-size: 0.85rem !important;
    color: #6C757D !important;
    line-height: 1.5 !important;
    border-top: none !important;
}

/* PAYMENT BOX - LIMPIO */
#payment {
    background: transparent !important;
    border: none !important;
    padding: 0 !important;
}

#payment .form-row {
    padding: 0 !important;
    margin: 16px 0 !important;
}

#payment .woocommerce-terms-and-conditions-wrapper {
    margin: 24px 0 !important;
}

#payment .woocommerce-privacy-policy-text {
    font-size: 0.85rem !important;
    color: #6C757D !important;
    line-height: 1.6 !important;
}

/* ORDER REVIEW */
#order_review {
    background: #fff !important;
    border: 2px solid #e9ecef !important;
    border-radius: 12px !important;
    padding: 24px !important;
}

#order_review .order-total {
    background: #F8F9FA !important;
    border: 2px solid #3d3180 !important;
}

#order_review .order-total strong {
    background: none !important;
    -webkit-background-clip: initial !important;
    -webkit-text-fill-color: initial !important;
    color: #3d3180 !important;
}

/* PLACE ORDER BUTTON */
#place_order,
button[name="woocommerce_checkout_place_order"] {
    background: #10b981 !important;
    border: none !important;
    color: #fff !important;
    font-size: 1.1rem !important;
    font-weight: 600 !important;
    padding: 18px 40px !important;
    border-radius: 10px !important;
    box-shadow: 0 4px 12px rgba(16,185,129,.3) !important;
    width: 100% !important;
}

#place_order::before,
button[name="woocommerce_checkout_place_order"]::before {
    display: none !important;
}

#place_order:hover,
button[name="woocommerce_checkout_place_order"]:hover {
    background: #0ea472 !important;
    box-shadow: 0 6px 16px rgba(16,185,129,.4) !important;
    transform: translateY(-2px) !important;
}

#place_order:active,
button[name="woocommerce_checkout_place_order"]:active {
    transform: translateY(0) !important;
}

/* BOTONES DE NAVEGACIÓN */
.btn-next-step,
.btn-prev-step {
    padding: 14px 28px !important;
    border-radius: 10px !important;
    font-weight: 500 !important;
    font-size: 0.95rem !important;
    transition: all 0.2s ease !important;
}

.btn-next-step {
    background: #3d3180 !important;
    color: #fff !important;
    border: none !important;
}

.btn-next-step:hover {
    background: #4b3c9e !important;
    transform: translateY(-2px) !important;
}

.btn-prev-step {
    background: #fff !important;
    color: #6C757D !important;
    border: 2px solid #E9ECEF !important;
}

.btn-prev-step:hover {
    border-color: #3d3180 !important;
    color: #3d3180 !important;
}

/* TRUST BADGES */
.trust-badges-checkout .trust-badge-item {
    background: #f8f9fa !important;
    border: 1px solid #e9ecef !important;
}

.trust-badges-checkout .trust-badge-item::before {
    display: none !important;
}

.trust-badges-checkout .trust-badge-item i {
    color: #10b981 !important;
}

/* WRAPPER GENERAL */
.feyma-checkout-wrapper {
    background: #f8f9fa !important;
}

.woocommerce-checkout {
    background: #f8f9fa !important;
}

/* TIPOGRAFÍA */
h1, h2, h3, h4, h5, h6 {
    color: #3d3180 !important;
}

/* DESACTIVAR ANIMACIONES INNECESARIAS */
@keyframes shimmer {
    to { transform: none !important; }
}

@keyframes pulse-ring {
    to { box-shadow: none !important; }
}

@keyframes shine-sweep {
    to { left: -100% !important; }
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .checkout-step {
        padding: 20px 16px !important;
    }

    .step-header h2 {
        font-size: 1.1rem !important;
    }

    #place_order {
        font-size: 1rem !important;
        padding: 16px 32px !important;
    }

    .woocommerce-shipping-methods li label,
    .wc_payment_methods li > label {
        padding: 14px 16px !important;
        gap: 12px !important;
    }

    .woocommerce-shipping-methods li label::before,
    .wc_payment_methods li > label::before {
        width: 38px !important;
        height: 38px !important;
        font-size: 1.1rem !important;
    }

    .wc_payment_methods li .payment_box {
        padding: 14px 16px 14px 66px !important;
    }
}
